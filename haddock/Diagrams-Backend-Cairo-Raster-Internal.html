<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Backend.Cairo.Raster.Internal</title><link href="haddock-dark.css" rel="stylesheet" type="text/css" title="haddock-dark" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Backend-Cairo-Raster-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Taru Karttunen, 2014</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>taruti@taruti.net</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Diagrams.Backend.Cairo.Raster.Internal</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">High-level API</a></li><li><a href="#g:2">Colors</a></li><li><a href="#g:3">Low-level API</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Low-level primitives for Diagrams Cairo raster support.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:cairoRaster">cairoRaster</a> &#8759; (Int &#8594; Int &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a>) &#8594; Int &#8594; Int &#8594; IO (Diagram Cairo R2)</li><li class="src short"><a href="#v:cairoLoadImage">cairoLoadImage</a> &#8759; FilePath &#8594; IO (Diagram Cairo R2)</li><li class="src short"><span class="keyword">type</span> <a href="#t:CairoColor">CairoColor</a> = Word32</li><li class="src short"><a href="#v:crgb">crgb</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></li><li class="src short"><a href="#v:crgba">crgba</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></li><li class="src short"><a href="#v:crgbap">crgbap</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CairoSurface">CairoSurface</a> = <a href="#v:CairoSurface">CairoSurface</a> !Surface</li><li class="src short"><a href="#v:dynamicImageToCairo">dynamicImageToCairo</a> &#8759; DynamicImage &#8594; IO (Diagram Cairo R2)</li><li class="src short"><a href="#v:cairoBitmapArray">cairoBitmapArray</a> &#8759; Int &#8594; Int &#8594; IO (Surface, SurfaceData Int <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a>, Int, Int &#8594; Int &#8594; Int)</li><li class="src short"><a href="#v:cairoSurfaceImage">cairoSurfaceImage</a> &#8759; Surface &#8594; Int &#8594; Int &#8594; IO (DImage (Native <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoSurface">CairoSurface</a>))</li></ul></div><div id="interface"><h1 id="g:1">High-level API</h1><div class="top"><p class="src"><a name="v:cairoRaster" class="def">cairoRaster</a> &#8759; (Int &#8594; Int &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a>) &#8594; Int &#8594; Int &#8594; IO (Diagram Cairo R2) <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L75" class="link">Source</a></p><div class="doc"><p>Create an image &quot;from scratch&quot; by specifying the pixel data.</p></div></div><div class="top"><p class="src"><a name="v:cairoLoadImage" class="def">cairoLoadImage</a> &#8759; FilePath &#8594; IO (Diagram Cairo R2) <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L83" class="link">Source</a></p><div class="doc"><p>Load an image for Cairo (JPG, PNG, BMP, TIFF ...). The image is loaded once and
 which can be useful for e.g. tiles.</p></div></div><h1 id="g:2">Colors</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CairoColor" class="def">CairoColor</a> = Word32 <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L42" class="link">Source</a></p><div class="doc"><p>An ARGB color as understood by Cairo. Cairo colors are with pre-multiplied alpha in a native endian format with the bytes from low to high: blue, green, red and alpha.</p></div></div><div class="top"><p class="src"><a name="v:crgb" class="def">crgb</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a> <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L47" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></code> from red, green and blue between [0 .. 255].</p></div></div><div class="top"><p class="src"><a name="v:crgba" class="def">crgba</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a> <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L55" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></code> from non-premultiplied red, green, blue and alpha between [0 .. 255].
 Non-premultiplied colors means that translucent red is <code>crgba 255 0 0 127</code>.</p></div></div><div class="top"><p class="src"><a name="v:crgbap" class="def">crgbap</a> &#8759; Integral a &#8658; a &#8594; a &#8594; a &#8594; a &#8594; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a> <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L69" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a></code> from already premultiplied red, green, blue and alpha between [0 .. min alpha 255].
 Premultiplied colors means that translucent red is <code>crgbap 127 0 0 127</code>.</p></div></div><h1 id="g:3">Low-level API</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CairoSurface" class="def">CairoSurface</a> <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L142" class="link">Source</a></p><div class="doc"><p>Wrap Cairo surfaces for native images so they are Typeable.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CairoSurface" class="def">CairoSurface</a> !Surface</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CairoSurface" class="caption collapser" onclick="toggleSection('i:CairoSurface')">Instances</p><div id="section.i:CairoSurface" class="show"><table><tr><td class="src">Typeable &#9733; <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoSurface">CairoSurface</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Renderable (DImage (Native <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoSurface">CairoSurface</a>)) Cairo</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:dynamicImageToCairo" class="def">dynamicImageToCairo</a> &#8759; DynamicImage &#8594; IO (Diagram Cairo R2) <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L87" class="link">Source</a></p><div class="doc"><p>Convert a JuicyPixel DynamicImage into a Diagrams Cairo image.</p></div></div><div class="top"><p class="src"><a name="v:cairoBitmapArray" class="def">cairoBitmapArray</a> &#8759; Int &#8594; Int &#8594; IO (Surface, SurfaceData Int <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoColor">CairoColor</a>, Int, Int &#8594; Int &#8594; Int) <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L104" class="link">Source</a></p><div class="doc"><p>Create a new surface and array for drawing image data and feeding into <code><a href="Diagrams-Backend-Cairo-Raster-Internal.html#v:cairoSurfaceImage">cairoSurfaceImage</a></code>.
 Takes bitmap width and height as parameters. The return values are:
 <code>Surface</code> is for feeding <code><a href="Diagrams-Backend-Cairo-Raster-Internal.html#v:cairoSurfaceImage">cairoSurfaceImage</a></code>.
 'SurfaceData Int CairoColor' is an MArray instance referencing the image data in the surface.
 The image is in the format Cairo expects, which means there may be gaps inside it.
 The third result is <code>Stride</code> expressed in 32-bit words.
 The last
 result is a function mapping <code>x</code> and <code>y</code> coordinates to coordinates in the array.</p></div></div><div class="top"><p class="src"><a name="v:cairoSurfaceImage" class="def">cairoSurfaceImage</a> &#8759; Surface &#8594; Int &#8594; Int &#8594; IO (DImage (Native <a href="Diagrams-Backend-Cairo-Raster-Internal.html#t:CairoSurface">CairoSurface</a>)) <a href="https://github.com/taruti/diagrams-cairo-raster/blob/master/src/Diagrams/Backend/Cairo/Raster/Internal.hs#L116" class="link">Source</a></p><div class="doc"><p>Create an Diagrams image from a Cairo image surface and from width and height in pixels.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>